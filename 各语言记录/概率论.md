## 概率论与数理统计

#### 马尔科夫链(Markov Chain)

参考：  
[马尔科夫链(Markov Chain)](https://www.jianshu.com/p/ef9602955ca6)

谷歌用于确定搜索结果顺序的算法，称为PageRank，就是一种马尔可夫链。  
在卷积网络出现之前，HMM马尔可夫模型也是语音处理的常用方法。


* 马尔科夫链是指数学中具有马尔科夫性质的离散事件随机过程。
    - 在其每一步中，系统根据概率分布可以从一个状态变到另一个状态，也可以保持当前状态。
    - 状态的改变叫做转移
    - 与不同的状态改变相关的概率叫做**转移概率** / 转换概率（transition probability）。

真正的建模工作者不会总是就画一张马尔科夫链图。

* 相反，他们会使用**“转移矩阵”**来计算转移概率：
    - 状态空间中的每个状态都会出现在表格中的一列或者一行中。
    - 矩阵中的每个单元格都告诉你从行状态转换到列状态的概率。
    - 在状态转移矩阵中，行和列都是可能的所有状态，对应位置就是已知行状态，转移到列状态的概率。
    - 如果状态空间添加了一个状态，我们将添加一行和一列，向每个现有的列和行添加一个单元格。
    - 这意味着当我们向马尔可夫链添加状态时，单元格的数量会呈二次方增长。
    - 因此，转换矩阵就起到了很大的作用（除非你想把法尔科夫链图画的跟丛林一样）。

* 状态转移矩阵

整个马尔可夫链中的核心就是状态转移矩阵

e.g. 以股市模型为例，假设初始状态为t_0=[0.1,0.2,0.7]，然后算之后的状态(此时状态转义矩阵P是3*3的)。 参考链接。

不管我们的初始状态是什么样子的，只要状态转移矩阵不发生变化，当n→∞时，最终状态始终会收敛到一个固定值。

* 马尔可夫链细致平稳条件
    - 马尔科夫链要能收敛，需要满足以下条件：
        + 可能的状态数是有限的
        + 状态间的转移概率需要固定不变
        + 从任意状态能够转变到任意状态
        + 不能是简单的循环，例如全是从x到y再从y到x
    - 由前面的例子，当`t_0`(初始状态向量)与P(转移矩阵)的n次幂相乘以后，发现得到的向量都会收敛到一个稳定值，而且此稳定值与初始向量`t_0` 无关。
    - 那么满足什么样的条件的转移矩阵P会有这种现象？
    - 细致平衡条件（Detailed Balance Condition）
        + 给定一个马尔科夫链，分布π 和概率转移矩阵P，如果下面等式成立: `{\pi _i}{P_{ij}} = {\pi _j}{P_{ji}}\`，则此马尔科夫链具有一个平稳分布（Stationary Distribution)。

#### HMM（隐马尔可夫模型）

参考：  
[一文搞懂HMM（隐马尔可夫模型）](https://www.cnblogs.com/skyme/p/4651331.html)

隐马尔可夫模型（Hidden Markov Model，HMM）是统计模型，它用来描述一个含有隐含未知参数的马尔可夫过程。

其难点是从可观察的参数中确定该过程的隐含参数。然后利用这些参数来作进一步的分析，例如模式识别。

## 公式

* 期望
    - `E(x) = ∑(x(i)*x(i)的概率)`
* 方差 概率论中方差用来度量随机变量和其数学期望（即均值）之间的偏离程度。
    - 方差可以看成是协方差的一种特殊情况，即2组数据完全相同。
    - `S^2 = ∑((x(i)-x平均值)^2) / x成员个数`
* 协方差 表示的是两个变量的总体的误差。
    - 如果两个变量的变化趋势一致，则协方差为正值(正相关)
    - cov(x,y) = ∑((x(i) - x平均数)(y(i) - y平均数)) / n
* 协方差与期望值有如下关系：
    - `Cov(X，Y)=E(XY)-E(X)E(Y)`
    - 符号：期望`E`/方差`S^2`/标准差`S`/协方差`cov`

* 等比数列求和公式
    - `S(n) = a1*(1-q^n)/(1-q)` (其中公比`q != 1`)
    - 通项：`an = a1 * (1-q)^(n-1)`
    - e.g. `n+n/2+n/4+...+1 = n(1- (1/2)^(log2(n)) )/(1-1/2) = 2n(1-1/n) = 2n-2`，~~也不对~~， 应该是`2n-1`，咋算出的。。
        + 注意此处项数不是`n`，也不是`log2(n)`，不要把n和项数搞混了，假设项数为m，n = 2^m，`m=log2(n)`
* 等差数列求和
    - `S(n) = n*(a1+an)/2`
    - 或 `S(n) = n*a1 + n*(n-1)*d/2`，d为公差