## 数字货币

### 转账实际操作

>具体到账时间要看链上区块确认速度。 区块网络速度正常时，一般1个区块1-15分钟。如果堵了，时间就不确定了，2-3天都有可能的。 https://www.omniexplorer.info 这个网站可以查看USDT区块情况的，您用哈希值可以直接查看。 提币提示需6个确认情况——转币一般至少要6个确认才能到账使用，我们交易所是1个确认优先 给您到账，实际到账所以提币需等待6个确认完成哦。

意思是可以通过交易的交易ID(TxID)到 https://www.omniexplorer.info 中查询这笔交易相关的区块信息。

* OMNI协议
	- OMNI使用的是基于比特币区块链技术 
	- [OMNI协议介绍](https://blog.csdn.net/xq723310/article/details/82684595)
	- [omni协议发代币的通俗解释](https://zhuanlan.zhihu.com/p/40062558)
	- USDT有两种不同类型，两种分别的协议(本次交易里是用OMNI) [omni和erc20的区别](https://www.php.cn/faq/423657.html)

* 关于OmniExplorer:
	- 参考：[OmniExplorer FAQ](https://github.com/OmniLayer/omniexplorer/wiki/OmniExplorer-FAQ)
	- OmniExplorer是Omni协议的块资源管理器，由Omni基金会创建和维护
	- 目前，它允许您查询Omni协议上的地址余额和交易数据。随着时间的流逝，可能会添加其他统计信息，信息，工具来帮助社区。

* 关于6个(区块)确认，是指比特币转账需要6个区块确认才能到账
	- 为了避免双花造成的损失，一般认为，等 6 个区块确认后的比特币交易基本上就不可篡改了
	- 参考：[比特币转账为什么一定要等6个区块确认才能到账？](https://www.jianshu.com/p/2da3a9970387)

* 这是交易所里的订单信息：

```
币种            USDT
提币地址        1Q9xxxxxxxxxxxx...rVCqMQWxT (要提取到的钱包地址)
转出数量        xx.00 USDT
手续费          5.00 USDT
到账数量        xx.00 USDT
提币时间        2019-10-26 15:45:09
完成时间        2019-10-26 17:52:00
订单号          42b2xxx...63b
TxID           25cfa021d27............e69146e87 (64位哈希值，TxID是要24MEX交易所先确认后才会生成，之前状态为未确认)
订单状态       （1/6确认）已完成
```

* TxID放到omniexplorer里查询区块信息

可以看到界面上的状态，基于以下json数据展示(0/6时候的展示)：

```json
{
  "amount": "xx.00000000", 
  "blocktime": 1572082564, 
  "confirmations": 0, 
  "divisible": true, 
  "fee": "0.00012850", 
  "flags": null, 
  "ismine": false, 
  "propertyid": 31, 
  "propertyname": "TetherUS", 
  "referenceaddress": "1Q9hh...",  // 目的钱包地址
  "sendingaddress": "1BqsoHo...",  // 源钱包地址？
  "txid": "25cfa021d27...",        // TxID，哈希值
  "type": "Simple Send", 
  "type_int": 0, 
  "version": 0
}
```

5/6时候的展示：

```json
{
  "amount": "xx.00000000", 
  "block": 601115, 
  "blockhash": "0000000000000000000f99895843a60a5e610324e8f81312faaabcf690de5612", 
  "blocktime": 1572083500, 
  "confirmations": 5, 
  "divisible": true, 
  "fee": "0.00012850", 
  "flags": null, 
  "ismine": false, 
  "positioninblock": 707, 
  "propertyid": 31, 
  "propertyname": "TetherUS", 
  "referenceaddress": "1Q9hhC...", 
  "sendingaddress": "1BqsoH...", 
  "txid": "25cfa021d27...",        // TxID，哈希值
  "type": "Simple Send", 
  "type_int": 0, 
  "valid": true, 
  "version": 0
}
```

24MEX交易所显示6/6，imToken钱包也收到转账了(收到0.00000000xxx个BTC，0有点多。。。)，
(几百块钱提取，看imToken上只有几毛钱orz，然后看钱包状态还是确认中。。。吓一跳，坐等。。。。。。收到部分还不算完全结束)

此时在 omniexplorer 里的状态(此时confirmations是7)

```json
{
  "amount": "xx.00000000", 
  "block": 601115, 
  "blockhash": "0000000000000000000f99895843a60a5e610324e8f81312faaabcf690de5612", 
  "blocktime": 1572083500, 
  "confirmations": 7, 
  "divisible": true, 
  "fee": "0.00012850", 
  "flags": null, 
  "ismine": false, 
  "positioninblock": 707, 
  "propertyid": 31, 
  "propertyname": "TetherUS", 
  "referenceaddress": "1Q9hhC...", 
  "sendingaddress": "1BqsoHo...", 
  "txid": "25cfa021d27dd8...", 
  "type": "Simple Send", 
  "type_int": 0, 
  "valid": true, 
  "version": 0
}
```

#### 存疑

还存在的一些疑问，留待确认。

看接收提币的钱包中(imToken)，这笔转入点进去可以看详情：

* 其中有一个inputs，3个outputs
	- inputs 是 源钱包地址 
	- outpus 中除了目的钱包地址，还有源钱包地址，另外包括个 0 BTC的记录，此处有疑问， why？
	- inputs 中的币大小，是0.117....BTC(8位小数)，明细比提取的币数大很多，why？

* 目的钱包是否是多次收款，哪个状态标识终态？


### 矿工费

[转账矿工费全解](https://www.jinse.com/bitcoin/235599.html)

在区块链网络上交易/转账的时候，大家会发现除了支付应转账的数量外，还需要额外支付一小笔费用作为矿工费。

正常情况下，矿工费是用区块链资产来结算的（转BTC支付BTC，转ETH支付ETH）；给的越多转账的速度越快。

* BTC矿工费=Fees（聪/byte） * Site（byte）
	- 聪 = sat，1 比特币 = 1 亿 聪
	- 正常一笔交易的大小大约226 bytes
* ETH矿工费 = Gas Limit * Gas Price
	- Gas是ETH交易的时候手续费的一个数量单位；
	- Gas Limit是指发起方能接受的最大数量；
	- Gas Price是指发起方能接受的每个Gas 的价格（用ETH计算）；

